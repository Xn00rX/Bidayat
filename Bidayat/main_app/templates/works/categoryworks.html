{% extends 'base.html' %}

{% block content %}
  <div>
    <h1>Work List</h1>

    <div class="work-container">
      {% for work in works %}
        <div class="work-item">
          <div class="image-container">
            <div class="horizontal-scroll">
              {% for work_image in work.images.all %}
                {% with image_path=work_image.image.url|cut:'main_app/' %}
                  <img src="{{ image_path }}" alt="Work Image">
                {% endwith %}
              {% endfor %}
            </div>
          </div>
          <a href="{% url 'workdetail' work.id %}">
            <h5>{{ work.title }}</h5>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>

  <style>
    .work-container {
      display: flex;
      flex-wrap: nowrap;  /* Prevent items from wrapping to the next line */
      overflow-x: auto;   /* Enable horizontal scrolling */
    }

    .work-item {
      margin-right: 20px;  /* Adjust as needed for spacing between items */
    }

    .image-container {
      overflow: hidden;    /* Hide the overflowing content */
    }

    .horizontal-scroll {
      display: flex;       /* Enable flexbox for the horizontal scroll */
    }

    .horizontal-scroll img {
      flex-shrink: 0;      /* Prevent images from shrinking */
      width: 100%;         /* Ensure images take up full width */
      margin-right: 10px;  /* Adjust as needed for spacing between images */
    }
  </style>
{% endblock %}
